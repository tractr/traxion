# Specification technique de la generation des composants front angular

Cette specification a pour objectifs de clarifier la methode que traxion va
mettre en oeuvre concernant la génération des composants front.

## Séparation en layer des composants

La difficulté concernant la génération front est de laisser l'entière liberter
aux intégrateurs de faire leur travail de stylisation des composants (css,
event, etc...) tout en automatisant la creation de formulaire.

Pour ce faire traxion a décidé de s'appuyer sur le framework nx pour débloquer
ce verroux en laissant aux intégrateurs la tache de créer des librairies de
composants css et en s'apuyant sur ces librairies dans les templates de
génération ou encore dans les packages de helpers (de connexion par exemple).

Pour aider cette tache répétitifs pour chaque projet de créer une librairies ui
de composants des schematics seront mise en place lors de l'initialisation d'un
projet.

### Layer de composants ui

Ce premier layer est le layer sur lequel le reste des templates s'appuiront. Des
schematics traxion permettront d'initialiser les librairies ui respectant le
contrat d'interface des layer superieurs (composants générés et formulaire
généré).

Les composants auront une nommenclature de nom et une interface logique minimal
a respecter:

- Chaque composant devra etre contenu dans une librairies nx qui devra respecter
  ce format de nom: -> `@<npmScope>/<nom-du-composant>-ui`
- Chaque composant devra etre un composant ui (ou dump ou fonctional component),
  c'est a dire que celui ci ne devra faire auncun appel http et devra en interne
  communiquer avec l'exterieur avec des @Inputs et @Outputs
- Chaque composant devra respecter les interface de form control permettant
  d'utiliser simplement les directives angular que l'on pourrait utiliser dans
  les layers supérieurs

Voici la liste des composants que les layers superieurs utiliserons:

- Faire la liste des composants a utiliser
- Creer dans la stack une librairies par composant avec des tests et des
  storybooks (ne mettre aucun style car nous allons utiliser ces fichiers pour
  les schematics, placer ces composants dans angular/ui/nom-du-component)
- Creer un schematics permettant de generer ces composants dans un workspace nx

### Layer de composants générés

Maintenant que les composants ui seront specific à chaque projet mais
nommenclaturé nous pouvons faire une generation des composants de chaque modeles
en fonction de leur types et sous types

## Validation de la specification technique

Afin de valider cette specification nous pouvons faire un POC avec un model de
données spécifique: le modele User.

Prenons comme hypothése un modele user simple:

- id
- email
- password
- roles

L'objectifs de ce POC est de creer (ne pas faire de templates hapify):

- Un composant InputUi dans le package `@tractr/angular-ui-input` dans le
  dossier `libs/angular/ui/input`
- Un composant ButtonUi dans le package `@tractr/angular-ui-button` dans le
  dossier `libs/angular/ui/button`
- Un composant PasswordUi dans le package `@tractr/angular-ui-password` dans le
  dossier `libs/angular/ui/password`

- Un composant UserEmailUi dans le package `@tractr/angular-models-ui` dans le
  dossier `libs/angular/models/ui`
- Un composant UserPasswordUi dans le package `@tractr/angular-models-ui` dans
  le dossier `libs/angular/models/ui`

- Un composant UserLoginForm dans le package `@tractr/angular-models-forms` dans
  le dossier `libs/angular/models/forms`
