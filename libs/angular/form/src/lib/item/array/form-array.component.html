<tractr-form-item
  [name]="name"
  [label]="label"
  [errorTip]="errorTip"
  [status]="status"
>
  <div
    *ngFor="let formGroup of formArray.controls; let i = index"
    class="content-container"
  >
    <div class="content">
      <ng-container
        *ngTemplateOutlet="
  content;
  context: { $implicit: formGroup, state: state?.[i],  index: i }
"
      ></ng-container>
    </div>
    <div
      class="content-delete inline"
      (click)="remove(i)"
      *ngIf="formArray.controls.length > this.min"
    >
      <ng-container
        *ngTemplateOutlet="removeTpl ?? defaultRemoveTpl"
      ></ng-container>
    </div>
  </div>

  <div
    (click)="add()"
    class="inline"
    *ngIf="formArray.controls.length < this.max"
  >
    <ng-container *ngTemplateOutlet="addTpl ?? defaultAddTpl"></ng-container>
  </div>
</tractr-form-item>

<!-- Template -->
<ng-template #defaultAddTpl>
  <button nz-button nzType="link">
    <i nz-icon nzType="plus" nzTheme="outline"></i
    ><span class="add-label">ADD</span>
  </button>
</ng-template>

<ng-template #defaultRemoveTpl>
  <button nz-button nzType="text">
    <i nz-icon nzType="close" nzTheme="outline"></i>
  </button>
</ng-template>
<!-- /Template -->
